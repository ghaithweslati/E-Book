{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sief0\\\\Desktop\\\\2ING_2\\\\ReactJs\\\\projectsFinal\\\\E-Book\\\\src\\\\App.js\";\nimport React, { useState } from \"react\";\nimport Login from './components/Login/Login';\nimport Inscription from './components/Inscription/Inscription';\nimport BooksList from './components/BooksList/BooksList';\nimport MembersList from './components/MembersList/MembersList';\nimport BorrowedsList from './components/BorrowedsList/BorrowedsList';\nimport MemberDetail from './components/MemberDetail/MemberDetail';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { fetchMembers, fetchMyBorrowed, fetchMemberById } from \"./services/members.service\";\nimport './App.css';\nimport { fetchBooks } from \"./services/books.service\";\n\nfunction App() {\n  var bor = [];\n  const current = JSON.parse(localStorage.getItem('current'));\n  if (current) bor = fetchMyBorrowed(current.id);\n  const [borrowed, setBorowed] = useState(bor);\n\n  const getBook = (isbn, image, categorie, titre, etat, nbExemp, auteur) => {\n    var d = new Date();\n    var dateEmp = d;\n    /*(\"0\" + d.getDate()).slice(-2) + \"-\" + (\"0\"+(d.getMonth()+1)).slice(-2) + \"-\" +\r\n    d.getFullYear() + \" \" + (\"0\" + d.getHours()).slice(-2) + \":\" + (\"0\" + d.getMinutes()).slice(-2);*/\n\n    setBorowed(previousBooks => [{\n      isbn,\n      image,\n      categorie,\n      titre,\n      etat,\n      dateEmp,\n      nbExemp,\n      auteur\n    }, ...previousBooks]);\n    fetchMyBorrowed(current.id).unshift({\n      isbn,\n      image,\n      categorie,\n      titre,\n      etat,\n      dateEmp,\n      nbExemp,\n      auteur\n    });\n    localStorage.setItem('members', JSON.stringify(fetchMembers()));\n  };\n\n  const renderBook = bookToReturn => {\n    const borroweds = borrowed.filter(borr => borr.isbn != bookToReturn.isbn);\n    setBorowed(borroweds);\n    fetchMemberById(current.id).livres = borroweds;\n    localStorage.setItem('members', JSON.stringify(fetchMembers()));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, window.location.pathname.substring(1) != 'login' && window.location.pathname.substring(1) != 'inscription' && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: require('./logo.png'),\n    alt: \"logo\",\n    className: \"brand-logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"aside\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, borrowed.map((step, index) => React.createElement(\"img\", {\n    src: require('./components/Book/Cover/' + step.image),\n    alt: \"logo\",\n    className: \"brand-logo\",\n    onClick: e => renderBook(step),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    id: \"navbar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/books\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Books\"), \" \"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, current.type == 'Admin' && React.createElement(\"a\", {\n    href: \"/members\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Members\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, current.type == 'Admin' && React.createElement(\"a\", {\n    href: \"/borroweds\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Borroweds\"))), React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"All \", window.location.pathname.substring(1))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"./login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Home \", '>'), React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \" Books\"))))), React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/inscription\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Inscription, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/books\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(BooksList, {\n    borrowed: borrowed.length,\n    getBook: getBook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/members/:memberId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(MemberDetail, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/members\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(MembersList, {\n    tab: fetchMembers(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/borroweds\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(BorrowedsList, {\n    tab: fetchMembers(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/sief0/Desktop/2ING_2/ReactJs/projectsFinal/E-Book/src/App.js"],"names":["React","useState","Login","Inscription","BooksList","MembersList","BorrowedsList","MemberDetail","BrowserRouter","Switch","Route","fetchMembers","fetchMyBorrowed","fetchMemberById","fetchBooks","App","bor","current","JSON","parse","localStorage","getItem","id","borrowed","setBorowed","getBook","isbn","image","categorie","titre","etat","nbExemp","auteur","d","Date","dateEmp","previousBooks","unshift","setItem","stringify","renderBook","bookToReturn","borroweds","filter","borr","livres","window","location","pathname","substring","require","map","step","index","e","type","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\nimport Login from './components/Login/Login';\r\nimport Inscription from './components/Inscription/Inscription';\r\nimport BooksList from './components/BooksList/BooksList';\r\nimport MembersList from './components/MembersList/MembersList';\r\nimport BorrowedsList from './components/BorrowedsList/BorrowedsList';\r\nimport MemberDetail from './components/MemberDetail/MemberDetail';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport { fetchMembers,fetchMyBorrowed, fetchMemberById } from \"./services/members.service\"\r\nimport './App.css';\r\nimport { fetchBooks } from \"./services/books.service\";\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  var bor=[]\r\n  const current=JSON.parse(localStorage.getItem('current'));\r\n  if(current)\r\n    bor=fetchMyBorrowed(current.id);\r\n  const [borrowed, setBorowed] = useState(bor);\r\n\r\n  \r\n  const getBook = (isbn, image, categorie,titre,etat,nbExemp,auteur) => {\r\n    var d = new Date();\r\n    var dateEmp = d /*(\"0\" + d.getDate()).slice(-2) + \"-\" + (\"0\"+(d.getMonth()+1)).slice(-2) + \"-\" +\r\n    d.getFullYear() + \" \" + (\"0\" + d.getHours()).slice(-2) + \":\" + (\"0\" + d.getMinutes()).slice(-2);*/\r\n    setBorowed(previousBooks => [\r\n      { isbn, image, categorie,titre,etat,dateEmp,nbExemp,auteur },...previousBooks\r\n    ])\r\n    fetchMyBorrowed(current.id).unshift( { isbn, image, categorie,titre,etat,dateEmp,nbExemp,auteur });\r\n    localStorage.setItem('members',JSON.stringify(fetchMembers()))\r\n    \r\n  }\r\n\r\n  const renderBook=(bookToReturn)=>{\r\n    const borroweds=borrowed.filter(borr=>borr.isbn!=bookToReturn.isbn)\r\n    setBorowed(borroweds);\r\n    fetchMemberById(current.id).livres=borroweds;\r\n    localStorage.setItem('members',JSON.stringify(fetchMembers()))\r\n  }\r\n  \r\n\r\n  return (\r\n\r\n    <div  className=\"App\">\r\n      \r\n     {(window.location.pathname.substring(1)!='login'&&window.location.pathname.substring(1)!='inscription')  && <div>\r\n      <header>\r\n      <img src={require('./logo.png')} alt=\"logo\" className=\"brand-logo\"/>\r\n      <aside>\r\n        {borrowed.map((step ,index) => (\r\n             <img src={require('./components/Book/Cover/'+step.image)} alt=\"logo\" className=\"brand-logo\" onClick={e => renderBook(step)}/>\r\n        ))}\r\n      </aside>\r\n      </header>\r\n      <div id=\"navbar\">\r\n      <ul>\r\n        \r\n  <li><a href=\"/books\">Books</a> </li>\r\n        <li>{current.type=='Admin' && < a href=\"/members\">Members</a>}</li>\r\n        <li>{current.type=='Admin' &&<a href=\"/borroweds\">Borroweds</a>}</li>\r\n</ul>\r\n<nav>\r\n  <h1><b>All {window.location.pathname.substring(1)}</b></h1>\r\n  <div>\r\n    <a href=\"./login\">Home {'>'}</a><a> Books</a>\r\n  </div>\r\n</nav>\r\n </div>\r\n </div>} \r\n<BrowserRouter>\r\n<Switch>\r\n<Route exact path=\"/login\">\r\n  <Login >\r\n        </Login>\r\n  </Route>\r\n\r\n  <Route exact path=\"/inscription\">\r\n  <Inscription >\r\n        </Inscription>\r\n  </Route>\r\n\r\n\r\n<Route exact path=\"/books\">\r\n      <BooksList  borrowed={borrowed.length} getBook={getBook} >\r\n        </BooksList>\r\n  </Route>\r\n  <Route exact path=\"/members/:memberId\" >\r\n      <MemberDetail>\r\n        </MemberDetail>\r\n  </Route>\r\n  <Route exact path=\"/members\">\r\n      <MembersList tab={fetchMembers()}  >\r\n        </MembersList>\r\n   </Route>\r\n          <Route exact path=\"/borroweds\">\r\n      <BorrowedsList tab={fetchMembers()}  >\r\n        </BorrowedsList>\r\n  </Route>\r\n</Switch>\r\n</BrowserRouter>\r\n\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}